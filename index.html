<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mobile Menu Slide</title>
  <style>
    :root{
      --bg: #0b0f14;          /* dark mode background */
      --gap: 10px;            /* space between tiles */
      --radius: 14px;
      --shadow: 0 10px 25px rgba(0,0,0,.35);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.75);
      --tileRatio: 4.5;       /* width:height (approx) */
      --safeTop: env(safe-area-inset-top, 0px);
      --safeBottom: env(safe-area-inset-bottom, 0px);
    }

    *{ box-sizing:border-box; }
    html, body{
      height:100%;
      margin:0;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* App viewport */
    .app{
      position: fixed;
      inset: 0;
      overflow: hidden;
      background: var(--bg);
    }

    /* Two “screens” side-by-side: Home (0) and Detail (1) */
    .track{
      height: 100%;
      width: 200%;
      display: flex;
      transform: translateX(0%);
      transition: transform 360ms cubic-bezier(.2,.8,.2,1);
      will-change: transform;
    }
    .track.show-detail{
      transform: translateX(-50%);
    }

    .screen{
      width: 50%;
      height: 100%;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* HOME */
    .home{
      background: var(--bg);
      padding: calc(14px + var(--safeTop)) 14px calc(14px + var(--safeBottom));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    .home h1{
      font-size: 16px;
      margin: 0 0 12px;
      color: var(--muted);
      letter-spacing: .2px;
      font-weight: 600;
    }

    .menu{
      display: flex;
      flex-direction: column;
      gap: var(--gap);
      padding-bottom: 6px;
    }

    /* Clickable “image tiles” */
    .tile{
      width: 100%;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      text-decoration: none;
      position: relative;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      border: 1px solid rgba(255,255,255,.08);
    }

    /* Maintain ~4.5:1 ratio: height = width / 4.5 */
    .tile::before{
      content:"";
      display:block;
      padding-top: calc(100% / var(--tileRatio));
    }

    .tile .label{
      position: absolute;
      inset: 0;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding: 10px 14px;
      font-weight: 800;
      font-size: 20px;
      letter-spacing: .2px;
      text-shadow: 0 2px 10px rgba(0,0,0,.35);
    }

    .tile:active{
      transform: translateY(1px) scale(0.998);
    }

    /* DETAIL */
    .detail{
      background: #111;
      position: relative;
      overflow: hidden;
    }

    .detail-header{
      position: sticky;
      top: 0;
      z-index: 5;
      padding: calc(12px + var(--safeTop)) 14px 12px;
      display:flex;
      align-items:center;
      gap: 10px;
      backdrop-filter: blur(10px);
      background: rgba(0,0,0,.18);
      border-bottom: 1px solid rgba(255,255,255,.10);
    }

    .home-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width: 42px;
      height: 42px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.92);
      cursor: pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .home-btn:active{
      transform: translateY(1px);
    }

    .detail-title{
      font-size: 18px;
      font-weight: 800;
      margin: 0;
      line-height: 1.1;
    }

    .detail-body{
      height: 100%;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      padding: 18px 16px calc(18px + var(--safeBottom));
    }

    .card{
      border-radius: 18px;
      padding: 16px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
    }

    .hint{
      margin: 0;
      color: rgba(255,255,255,.85);
      font-size: 15px;
      line-height: 1.5;
    }

    /* Reduce motion if user prefers */
    @media (prefers-reduced-motion: reduce){
      .track{ transition: none; }
      .tile:active, .home-btn:active{ transform:none; }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="track" id="track" aria-live="polite">
      <!-- HOME SCREEN -->
      <section class="screen home" id="homeScreen">
        <h1>Explore</h1>
        <div class="menu" id="menu"></div>
      </section>

      <!-- DETAIL SCREEN -->
      <section class="screen detail" id="detailScreen">
        <div class="detail-header">
          <button class="home-btn" id="homeBtn" aria-label="Back to home">
            <!-- simple home icon (SVG) -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M3 10.5L12 3l9 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6.5 10.5V21h11V10.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <h2 class="detail-title" id="detailTitle">Title</h2>
        </div>

        <div class="detail-body">
          <div class="card">
            <p class="hint" id="detailHint">
              This is your destination page. For now it matches the selected menu color (a bit darker).
            </p>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script>
    // ---- CONFIG ----
    const items = [
      { title: "What's The Scoop",  color: "#2d7dd2" },
      { title: "Local Eateries",    color: "#f45b69" },
      { title: "Local Markets",    color: "#00b894" },
      { title: "Local Adventures", color: "#f6bd60" },
      { title: "Wine Tour",        color: "#6c5ce7" },
      { title: "Driving Tour",     color: "#e17055" },
      { title: "Emergency Info",   color: "#00a8ff" },
    ];

    // Make a matching-but-different background for detail:
    // Darken (negative) or lighten (positive) by percent
    const DETAIL_SHIFT = -12; // try +10 if you want lighter instead of darker

    // ---- Helpers ----
    function clamp(v, min, max){ return Math.min(max, Math.max(min, v)); }

    function hexToRgb(hex){
      const h = hex.replace('#','').trim();
      const full = h.length === 3 ? h.split('').map(c=>c+c).join('') : h;
      const int = parseInt(full, 16);
      return { r: (int>>16)&255, g: (int>>8)&255, b: int&255 };
    }

    function rgbToHex(r,g,b){
      const to = (n) => n.toString(16).padStart(2,'0');
      return `#${to(r)}${to(g)}${to(b)}`;
    }

    // Shift brightness by percent: -20 darkens, +20 lightens
    function shiftHex(hex, percent){
      const {r,g,b} = hexToRgb(hex);
      const t = percent < 0 ? 0 : 255;
      const p = Math.abs(percent) / 100;
      const nr = Math.round((t - r) * p + r);
      const ng = Math.round((t - g) * p + g);
      const nb = Math.round((t - b) * p + b);
      return rgbToHex(clamp(nr,0,255), clamp(ng,0,255), clamp(nb,0,255));
    }

    // ---- UI Wiring ----
    const track = document.getElementById('track');
    const menu = document.getElementById('menu');
    const detailScreen = document.getElementById('detailScreen');
    const detailTitle = document.getElementById('detailTitle');
    const detailHint = document.getElementById('detailHint');
    const homeBtn = document.getElementById('homeBtn');

    function openDetail(index){
      const item = items[index];
      const detailBg = shiftHex(item.color, DETAIL_SHIFT);

      detailScreen.style.background = detailBg;
      detailTitle.textContent = item.title;
      detailHint.textContent =
        `You tapped “${item.title}”. This section uses a shifted version of its menu color (${detailBg}).`;

      // Update URL hash so refreshing keeps state (optional but handy on GitHub Pages)
      location.hash = `#section-${index}`;

      track.classList.add('show-detail');
    }

    function goHome(){
      track.classList.remove('show-detail');
      // Remove hash (keeps it clean)
      history.replaceState(null, '', location.pathname + location.search);
    }

    // Build the 7 “image tiles”
    items.forEach((item, i) => {
      const a = document.createElement('a');
      a.className = 'tile';
      a.href = `#section-${i}`; // acts like nav
      a.style.background = item.color;

      const label = document.createElement('div');
      label.className = 'label';
      label.textContent = item.title;

      a.appendChild(label);

      // Make entire tile clickable
      a.addEventListener('click', (e) => {
        e.preventDefault();
        openDetail(i);
      });

      menu.appendChild(a);
    });

    homeBtn.addEventListener('click', goHome);

    // If user loads with a hash, open that section
    function handleHash(){
      const m = location.hash.match(/^#section-(\d+)$/);
      if(!m) return;
      const idx = Number(m[1]);
      if(Number.isFinite(idx) && idx >= 0 && idx < items.length){
        openDetail(idx);
      }
    }
    window.addEventListener('hashchange', handleHash);
    handleHash();
  </script>
</body>
</html>
